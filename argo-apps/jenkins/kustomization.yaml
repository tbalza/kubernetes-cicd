apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: jenkins

helmCharts:
  - name: jenkins
    repo: https://charts.jenkins.io
    version: 5.1.6  # Chart v5.1.6, App v2.440.3
    releaseName: jenkins
    namespace: jenkins
    includeCRDs: true # check if necessary ( as it should be defined in values.yaml)
#    valuesMerge: merge # how to treat valuesInline with respect to Values. Legal values: ‘merge’, ‘override’, ‘replace’. Defaults to ‘override’.
    valuesFile: values.yaml
#    additionalValuesFiles:
#    - casc-config-h.yaml

resources:
  - secret-store.yaml # load ECR repo dynamically # not really a secret, maybe configmap is more adequate # check
  - secret-external.yaml # load ECR repo dynamically # not really a secret, maybe configmap is more adequate # check
  - ingress.yaml

configMapGenerator:
- name: jenkins-scripts
  files:
  - Jenkinsfile.groovy