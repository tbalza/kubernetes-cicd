apiVersion: v1
kind: ConfigMap
metadata:
  name: jenkins-casc-config
  namespace: jenkins
data:
  jenkins.yaml: |
    jenkins:
      systemMessage: "Welcome to our Jenkins! Configured automatically by Jenkins Configuration as Code plugin"
      securityRealm:
        local:
          allowsSignUp: false
          users:
            - id: "admin"
              password: "pass"
      authorizationStrategy: loggedInUsersCanDoAnything
    unclassified:
      location:
        url: "http://jenkins.example.com/"
    jobs:
      - script: >
          readFileFromWorkspace('argo-apps/jenkins/jobs/django-build-job.groovy')
      - script: >
          readFileFromWorkspace('argo-apps/jenkins/pipelines/django-deploy-pipeline.groovy')
    tool:
      git:
        installations:
          - name: "Default"
            home: "/usr/bin/git"
    docker:
      installations:
        - name: "Default"
          home: "/usr/bin/docker"